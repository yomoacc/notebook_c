#include <stdio.h>
#define MOD 998244353
#define PHI MOD - 1 // 质数p的欧拉函数φ(p)=p-1，即998244352

// 快速幂核心函数：计算 base^exponent mod MOD
long long quick_pow(long long base, long long exponent) {
    long long result = 1;
    base = base % MOD; // 先对底数取模，避免初始值过大
    
    while (exponent > 0) {
        // 指数二进制最低位为1时，结果累乘当前底数
        if (exponent & 1) {
            result = (result * base) % MOD;
        }
        // 底数平方，指数右移一位（除以2）
        base = (base * base) % MOD;
        exponent >>= 1;
    }
    return result;
}

// 结合费马小定理的幂取模计算
long long pow_mod_fermat(long long a, long long b) {
    // 特殊边界：0^0 按题目要求返回0（若题目无要求可调整）
    if (a == 0 && b == 0) {
        return 0;
    }
    
    // 步骤1：用费马小定理简化指数
    long long simplified_b;
    if (a % MOD == 0) {
        // a是MOD的倍数，结果直接为0
        return 0;
    } else {
        // a与MOD互质，指数简化为b mod PHI
        simplified_b = b % PHI;
        // 注意：若简化后指数为0，需补为PHI（因为a^0=1，而a^PHI≡1 mod MOD）
        if (simplified_b == 0) {
            simplified_b = PHI;
        }
    }
    return quick_pow(a, simplified_b);
}


